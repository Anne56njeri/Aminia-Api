{% extends "base.html" %}

{% block content %}
  {% include "post_app/search_form.html" %}<br>
  <p>
    <a href="{% url 'home' %}">Home</a> |
    <a href="{% url 'posts:create_post' %}">Create New Post</a> |
  </p>
  {% for item in object_list  %}
    <p>{{item.pk}}</p>
    <p>{{item.content}}</p>
    <p>{{item.user}}</p>
    <p>{{item.timestamp}}</p>
    <p>{{item.timestamp|timesince}} ago</p> <br>
    <p>
      <a href="{% url 'posts:post_update' pk=item.pk %}"><span>Edit</span></a> |
      <a href="{% url 'posts:post_delete' pk=item.pk %}"><span>Delete</span></a>
    </p>
  {% empty %}
    <!-- Checking if the search request is coming through. -->
    {% if request.GET.q %}
    <!-- Returns below if no posts matching query are found -->
      <p>No posts found.</p>
    {% else %}
      <p>No posts yet.</p>
    {% endif %}
  {% endfor %}
{% endblock %}
